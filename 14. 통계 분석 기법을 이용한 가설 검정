ğŸ“˜ [t ê²€ì • â€“ ë‘ ì§‘ë‹¨ì˜ í‰ê·  ë¹„êµ]
âœ… ì˜ˆì œ 1: compact ìë™ì°¨ vs suv ìë™ì°¨ì˜ ë„ì‹œ ì—°ë¹„ ë¹„êµ
import pandas as pd
from scipy import stats

# ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
mpg = pd.read_csv('mpg.csv')

# ê·¸ë£¹ë³„ í‰ê· ê³¼ ê°œìˆ˜
mpg.query('category in ["compact", "suv"]') \
   .groupby('category', as_index=False) \
   .agg(n=('category', 'count'),
        mean=('cty', 'mean'))

# ê° ê·¸ë£¹ ë°ì´í„° ì¶”ì¶œ
compact = mpg.query('category == "compact"')['cty']
suv = mpg.query('category == "suv"')['cty']

# t ê²€ì •
stats.ttest_ind(compact, suv, equal_var=True)

âœ… ì˜ˆì œ 2: ì¼ë°˜ íœ˜ë°œìœ (r) vs ê³ ê¸‰ íœ˜ë°œìœ (p)ì˜ ë„ì‹œ ì—°ë¹„ ë¹„êµ
# ê·¸ë£¹ë³„ í‰ê· ê³¼ ê°œìˆ˜
mpg.query('fl in ["r", "p"]') \
   .groupby('fl', as_index=False) \
   .agg(n=('fl', 'count'),
        mean=('cty', 'mean'))

# ê° ê·¸ë£¹ ë°ì´í„° ì¶”ì¶œ
regular = mpg.query('fl == "r"')['cty']
premium = mpg.query('fl == "p"')['cty']

# t ê²€ì •
stats.ttest_ind(regular, premium, equal_var=True)

ğŸ“˜ [ìƒê´€ë¶„ì„ â€“ ë‘ ë³€ìˆ˜ì˜ ê´€ê³„ ë¶„ì„]
âœ… ì˜ˆì œ 1: ì‹¤ì—…ì ìˆ˜ì™€ ê°œì¸ ì†Œë¹„ ì§€ì¶œì˜ ìƒê´€ê´€ê³„
import pandas as pd
from scipy import stats

# ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
economics = pd.read_csv('economics.csv')

# ìƒê´€í–‰ë ¬
economics[['unemploy', 'pce']].corr()

# ìƒê´€ê³„ìˆ˜ ë° ìœ ì˜í™•ë¥ 
stats.pearsonr(economics['unemploy'], economics['pce'])

ğŸ“˜ [ìƒê´€í–‰ë ¬ íˆíŠ¸ë§µ ì‹œê°í™”]
âœ… ì˜ˆì œ: mtcars ë°ì´í„°ë¡œ ìƒê´€í–‰ë ¬ íˆíŠ¸ë§µ ê·¸ë¦¬ê¸°
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
import numpy as np

# ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
mtcars = pd.read_csv('mtcars.csv')

# ìƒê´€ê³„ìˆ˜ í–‰ë ¬ ê³„ì‚°
car_cor = round(mtcars.corr(), 2)

# ê¸°ë³¸ íˆíŠ¸ë§µ
sns.heatmap(car_cor, annot=True, cmap='RdBu')
plt.show()

âœ… ëŒ€ê°ì„  ì œê±°ëœ íˆíŠ¸ë§µ
# ë§ˆìŠ¤í¬ ìƒì„±: ìƒì‚¼ê°í–‰ë ¬ë§Œ ë§ˆìŠ¤í‚¹
mask = np.zeros_like(car_cor)
mask[np.triu_indices_from(mask)] = True

# íˆíŠ¸ë§µ ê·¸ë¦¬ê¸°
sns.heatmap(data=car_cor,
            annot=True,
            cmap='RdBu',
            mask=mask)
plt.show()

âœ… ë¶ˆí•„ìš”í•œ í–‰Â·ì—´ ì œê±° ë° ë””ìì¸ í–¥ìƒ
# ëŒ€ê° ì œì™¸í•œ í•˜ì‚¼ê° ë¶€ë¶„ë§Œ ì¶”ì¶œ
cor_new = car_cor.iloc[1:, :-1]
mask_new = mask[1:, :-1]

sns.heatmap(data=cor_new,
            annot=True,
            cmap='RdBu',
            mask=mask_new,
            linewidths=0.5,
            vmax=1,
            vmin=-1,
            cbar_kws={'shrink': 0.5})
plt.show()

ğŸ“ ì°¸ê³  ì‚¬í•­
equal_var=True: ë‘ ì§‘ë‹¨ì˜ ë¶„ì‚°ì´ ê°™ë‹¤ê³  ê°€ì •í•œ ë…ë¦½í‘œë³¸ t ê²€ì •ì…ë‹ˆë‹¤.
stats.ttest_ind: ì´ í•¨ìˆ˜ëŠ” ë‘ í‘œë³¸ í‰ê·  ê°„ì˜ ì°¨ì´ê°€ ìœ ì˜í•œì§€ ê²€ì •í•©ë‹ˆë‹¤.
ìƒê´€ê³„ìˆ˜ pearsonr()ëŠ” ì„ í˜•ê´€ê³„ ì •ë„(ìƒê´€ê³„ìˆ˜)ì™€ ìœ ì˜í™•ë¥ (p-value)ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

